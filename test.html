<div id="glowscript" class="glowscript">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link type="text/css" href="https://s3.amazonaws.com/glowscript/css/redmond/2.1/jquery-ui.custom.css" rel="stylesheet" />
<link type="text/css" href="https://s3.amazonaws.com/glowscript/css/ide.css" rel="stylesheet" />
<script type="text/javascript" src="https://s3.amazonaws.com/glowscript/lib/jquery/2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://s3.amazonaws.com/glowscript/lib/jquery/2.1/jquery-ui.custom.min.js"></script>
<script type="text/javascript" src="package/glow.3.0.min.js"></script>
<script type="text/javascript" src="package/RSrun.3.0.min.js"></script>
<script type="text/javascript"><!--//--><![CDATA[//><!--

// START JAVASCRIPT
;(function() {;
var RS_modules = {};
var roam;
RS_modules.pythonize = {};

(function(){
    function strings() {
        var string_funcs, exclude, name;
        string_funcs = set("capitalize strip lstrip rstrip islower isupper isspace lower upper swapcase center count endswith startswith find rfind index rindex format join ljust rjust partition rpartition replace split rsplit splitlines zfill".split(" "));
        if (!arguments.length) {
            exclude = (function(){
                var s = RS_set();
                s.jsset.add("split");
                s.jsset.add("replace");
                return s;
            })();
        } else if (arguments[0]) {
            exclude = Array.prototype.slice.call(arguments);
        } else {
            exclude = null;
        }
        if (exclude) {
            string_funcs = string_funcs.difference(set(exclude));
        }
        var RS_Iter0 = string_funcs;
        RS_Iter0 = ((typeof RS_Iter0[Symbol.iterator] === "function") ? (RS_Iter0 instanceof Map ? RS_Iter0.keys() : RS_Iter0) : Object.keys(RS_Iter0));
        for (var RS_Index0 of RS_Iter0) {
            name = RS_Index0;
            (RS_expr_temp = String.prototype)[(typeof name === "number" && name < 0) ? RS_expr_temp.length + name : name] = (RS_expr_temp = RS_str.prototype)[(typeof name === "number" && name < 0) ? RS_expr_temp.length + name : name];
        }
    };
    if (!strings.__module__) Object.defineProperties(strings, {
        __module__ : {value: "pythonize"}
    });

    RS_modules.pythonize.strings = strings;
})();
async function __main__() {
"use strict";

    var version, display, vector, print, arange, __name__, type, scene, RS_ls, s, ycenter, grey, Nslabs, R, w, d, h, photocenter, floor, pole, theta, c, xc, zc, slab, T, i, entry, B, gh, ga, gr, rgear, tgear, support, gear1, gear2, _GS_1, clock, Nwires, L, smoke, Nrings, RS_unpack, x0, y0, z0, r0, spacing, thick, dr, dthick, gray, y, dy, top, rlog, wide, zpos, zface, tlogend, v0, v, omega, dt, tstop, logcyl, leftstop, rightstop, y1, y2, rball, Dband, vball0, vball, ballangle, ball, cc, nn, table, tabletop, rspring, Lspring, Lspring0, hmass, post, spring, mass, kspring, deltat, Rcloud, omegacloud, cloud, rhairs, dhairs, maxcosine, haircolor, roam, hue, dhue, gangle, ray, newray, angle, F;
    version = RS_list_decorate([ "3.0", "glowscript" ]);
    Array.prototype['+'] = function(r) {return this.concat(r)}
    Array.prototype['*'] = function(r) {return __array_times_number(this, r)}
    window.__GSlang = "vpython";
    display = canvas;
    vector = vec;
    print = GSprint;
    arange = range;
    __name__ = "__main__";
    type = pytype;
    scene = canvas();
    fontloading();
    await waitforfonts();
    var strings = RS_modules.pythonize.strings;

    strings();
    "10";
    s = "<b>Fly through the scene:<\/b><br>";
    "11";
    s=s["+"]("    drag the mouse or your finger above or below the center of the scene to move forward or backward;<br>");
    "12";
    s=s["+"]("    drag the mouse or your finger right or left to turn your direction of motion.<br>");
    "13";
    s=s["+"]("(Normal GlowScript rotate and zoom are turned off in this program.)");
    "14";
    scene.caption = s;
    "16";
    ycenter = 2;
    "17";
    scene.width = 800;
    "18";
    scene.height = 400;
    "19";
    scene.range = 12;
    "20";
    scene.center = vector(0, ycenter, 0);
    "21";
    scene.userspin = false;
    "22";
    scene.userzoom = false;
    "23";
    scene.background = (await color.gray(.5));
    "24";
    scene.ambient = (await color.gray(.4));
    "26";
    async function hourminute() {
        var RS_ls, d, hour, minute;
        "27";
        d = new Date;
        "28";
        hour = (await d.getHours())["%"](12);
        "29";
        minute = (await d.getMinutes());
        "30";
        return RS_list_decorate([ hour, minute ]);
    };
    if (!hourminute.__module__) Object.defineProperties(hourminute, {
        __module__ : {value: null}
    });

    "32";
    function analog_clock() {;
    }
    analog_clock.prototype.__init__ = async function __init__(pos, radius, axis) {
        var self = this;
        var RS_ls, sp, n;
        "34";
        self.pos = pos;
        "35";
        self.axis = axis;
        "36";
        self.radius = radius;
        "37";
        self.spheres = RS_list_decorate([]);
        "38";
        self.hour = 0;
        "39";
        self.minute = 1["-u"]();
        "40";
        for (var RS_Index1 = 0; RS_Index1["<"](12); RS_Index1++) {
            n = RS_Index1;
            "41";
            sp = RS_interpolate_kwargs.call(this, sphere, [RS_desugar_kwargs({pos: pos["+"](RS_interpolate_kwargs.call(radius["*"](scene.up), (radius["*"](scene.up)).rotate, [RS_desugar_kwargs({angle: 2["-u"]()["*"](pi)["*"](n)["/"](12), axis: axis})])), size: 2["*"](radius)["/"](20)["*"](vector(1, 1, 1)), color: color.hsv_to_rgb(vector(n["/"](12), 1, 1))})]);
            "44";
            ;(await self.spheres.append(sp));
        }
        "45";
        self.hand = RS_interpolate_kwargs.call(this, arrow, [RS_desugar_kwargs({pos: self.pos, axis: .95["*"](radius)["*"](scene.up), shaftwidth: radius["/"](10), color: color.cyan})]);
        "47";
        ;(await self.update());
    };
    if (!analog_clock.prototype.__init__.__argnames__) Object.defineProperties(analog_clock.prototype.__init__, {
        __argnames__ : {value: ["pos", "radius", "axis"]},
        __module__ : {value: null}
    });
    analog_clock.__argnames__ = analog_clock.prototype.__init__.__argnames__;
    analog_clock.__handles_kwarg_interpolation__ = analog_clock.prototype.__init__.__handles_kwarg_interpolation__;
    analog_clock.prototype.update = async function update() {
        var self = this;
        var RS_ls, RS_unpack, hour, minute;
        "50";
        RS_unpack = (await hourminute());
RS_unpack = RS_unpack_asarray(2, RS_unpack);
        hour = RS_unpack[0];
        minute = RS_unpack[1];
        "51";
        hour = hour["%"](12);
        "52";
        if ((self.hour === hour || typeof self.hour === "object" && RS_equals(self.hour, hour)) && (self.minute === minute || typeof self.minute === "object" && RS_equals(self.minute, minute))) {
            return;
        }
        "53";
        self.hand.axis = RS_interpolate_kwargs.call(.95["*"](self.radius)["*"](scene.up), (.95["*"](self.radius)["*"](scene.up)).rotate, [RS_desugar_kwargs({axis: vector(0, 0, 1), angle: 2["-u"]()["*"](pi)["*"](minute)["/"](60)})]);
        "55";
        (RS_expr_temp = self.spheres)[RS_bound_index(self.hour, RS_expr_temp)].size = 2["*"](self.radius)["/"](20)["*"](vector(1, 1, 1));
        "56";
        (RS_expr_temp = self.spheres)[(typeof hour === "number" && hour["<"](0)) ? RS_expr_temp.length["+"](hour) : hour].size = 2["*"](self.radius)["/"](10)["*"](vector(1, 1, 1));
        "57";
        self.hour = hour;
        "58";
        self.minute = minute;
    };
    if (!analog_clock.prototype.update.__module__) Object.defineProperties(analog_clock.prototype.update, {
        __module__ : {value: null}
    });
    analog_clock.prototype.__repr__ = async function __repr__() {
                return "<"["+"](__name__)["+"](".")["+"](this.constructor.name)["+"](" #")["+"](this.RS_object_id)["+"](">");
    };
    analog_clock.prototype.__str__ = async function __str__() {
        return (await this.__repr__());
    };
    ;(await Object.defineProperty(analog_clock.prototype, "__bases__", {value: []}));
    
    

    "60";
    grey = (await color.gray(.8));
    "61";
    Nslabs = 8;
    "62";
    R = 10;
    "63";
    w = 5;
    "64";
    d = .5;
    "65";
    h = 5;
    "66";
    photocenter = .15["*"](w);
    "69";
    floor = RS_interpolate_kwargs.call(this, box, [RS_desugar_kwargs({pos: vector(0, .1["-u"](), 0), size: vector(.2, 24, 24), axis: vector(0, 1, 0), texture: textures.wood})]);
    "70";
    pole = RS_interpolate_kwargs.call(this, cylinder, [RS_desugar_kwargs({pos: vector(0, 0, 0), axis: vector(0, 1, 0), size: vector(h, .4, .4), color: color.red})]);
    "71";
    RS_interpolate_kwargs.call(this, sphere, [RS_desugar_kwargs({pos: vector(0, h, 0), size: vector(1, 1, 1), color: color.red})]);
    "74";
    for (var RS_Index2 = 0; RS_Index2["<"](Nslabs); RS_Index2++) {
        i = RS_Index2;
        "75";
        theta = i["*"](2)["*"](pi)["/"](Nslabs);
        "76";
        c = cos(theta);
        "77";
        s = sin(theta);
        "78";
        xc = R["*"](c);
        "79";
        zc = R["*"](s);
        "80";
        if ((i === 2 || typeof i === "object" && RS_equals(i, 2))) {
            "81";
            RS_interpolate_kwargs.call(this, box, [RS_desugar_kwargs({pos: vector(3["-u"]()["*"](w)["/"](8), .75["*"](h)["/"](2), R), size: vector(.5["*"](w)["/"](2), .75["*"](h), d), color: grey})]);
            "83";
            RS_interpolate_kwargs.call(this, box, [RS_desugar_kwargs({pos: vector(3["*"](w)["/"](8), .75["*"](h)["/"](2), R), size: vector(.5["*"](w)["/"](2), .75["*"](h), d), color: grey})]);
            "85";
            RS_interpolate_kwargs.call(this, box, [RS_desugar_kwargs({pos: vector(0, .85["*"](h), R), size: vector(w, .3["*"](h), d), color: grey})]);
            "87";
        } else {
            "88";
            slab = RS_interpolate_kwargs.call(this, box, [RS_desugar_kwargs({pos: vector(R["*"](c), h["/"](2), R["*"](s)), axis: vector(c, 0, s), size: vector(d, h, w), color: grey})]);
            "90";
            if ((i !== 6 && (typeof i !== "object" || RS_not_equals(i, 6)))) {
                "91";
                T = textures.flower;
                "92";
                if ((i === 7 || typeof i === "object" && RS_equals(i, 7)) || (i === 4 || typeof i === "object" && RS_equals(i, 4))) {
                    T = textures.rug;
                }
                "93";
                RS_interpolate_kwargs.call(this, box, [RS_desugar_kwargs({pos: slab.pos, size: vec(1.1["*"](d), .9["*"](4)["*"](photocenter), .9["*"](4)["*"](photocenter)), axis: vec(c, 0, s), texture: T})]);
            }
        }
    }
    "97";
    entry = RS_interpolate_kwargs.call(this, text, [RS_desugar_kwargs({pos: vector(0, 4.4, R["+"](d["/"](2))), text: "Surreal\nStonehenge", align: "center", depth: .3, height: .5})]);
    "100";
    B = RS_interpolate_kwargs.call(this, text, [RS_desugar_kwargs({pos: vector(.4["*"](R), 0, 1["-u"]()["*"](R)), text: "B", height: 2, align: "center", font: "serif", color: color.magenta, depth: 1})]);
    "103";
    gh = 1;
    "104";
    ga = 1;
    "105";
    gr = .05;
    "106";
    rgear = .7;
    "107";
    tgear = ga["/"](5);
    "108";
    support = RS_interpolate_kwargs.call(this, extrusion, [RS_desugar_kwargs({pos: vector(7, gh["/"](2), 10), path: RS_list_decorate([ vector(0, 0, 0), vector(0, gh, 0), vector(0, gh, ga), vector(0, 0, ga) ]), shape: RS_interpolate_kwargs.call(shapes, shapes.circle, [RS_desugar_kwargs({radius: gr})]), color: vector(1, .7, 0)})]);
    "110";
    RS_interpolate_kwargs.call(support, support.clone, [RS_desugar_kwargs({pos: vector(7["+"](2["*"](rgear)), gh["/"](2), 10)})]);
    "111";
    gear1 = RS_interpolate_kwargs.call(this, extrusion, [RS_desugar_kwargs({pos: support.pos["+"](vector(0, gh["/"](2), 0)), path: RS_list_decorate([ vector(0, 0, tgear["-u"]()["/"](2)), vector(0, 0, tgear["/"](2)) ]), shape: RS_interpolate_kwargs.call(shapes, shapes.gear, [RS_desugar_kwargs({radius: rgear})]), color: (await color.gray(.85)), texture: textures.metal})]);
    "113";
    gear2 = RS_interpolate_kwargs.call(gear1, gear1.clone, [RS_desugar_kwargs({pos: gear1.pos["+"](vector(2["*"](rgear), 0, 0))})]);
    "114";
    RS_interpolate_kwargs.call(gear1, gear1.rotate, [RS_desugar_kwargs({angle: .4["-u"]()["*"](2)["*"](pi)["/"](20), axis: vector(0, 0, 1)})]);
    "117";
    RS_interpolate_kwargs.call(this, box, [RS_desugar_kwargs({pos: vector(0, h["/"](2), R["-u"]()["+"](d["/"](2))["+"](.1)), size: vector(w["/"](2), w["/"](2), .2), texture: textures.wood})]);
    "118";
    _GS_1 = new analog_clock;
    ;(await _GS_1.__init__(vector(0, h["/"](2), R["-u"]()["+"](d["/"](2))["+"](.2)["+"](.2["*"](h)["/"](10))), .2["*"](w), vector(0, 0, 1)));
    clock = _GS_1;
    "121";
    Nwires = 32;
    "122";
    for (var RS_Index3 = 0; RS_Index3["<"](Nwires); RS_Index3++) {
        i = RS_Index3;
        "123";
        theta = i["*"](2)["*"](pi)["/"](Nwires);
        "124";
        L = vector(R["*"](cos(theta)), h["-u"]()["-"](.1), R["*"](sin(theta)));
        "125";
        RS_interpolate_kwargs.call(this, cylinder, [RS_desugar_kwargs({pos: vector(0, h, 0), axis: L, size: vector(mag(L), .04, .04), color: vector(1, .7, 0)})]);
    }
    "128";
    RS_interpolate_kwargs.call(this, pyramid, [RS_desugar_kwargs({pos: vector(4["-u"](), 0, 5["-u"]()), size: vector(2, 2, 2), axis: vector(0, 3, 0), color: vector(0, .5, 0), texture: textures.rough})]);
    "131";
    smoke = RS_list_decorate([]);
    "132";
    Nrings = 20;
    "133";
    RS_unpack = [5["-u"](), 1.5, 2["-u"]()];
    x0 = RS_unpack[0];
    y0 = RS_unpack[1];
    z0 = RS_unpack[2];
    "134";
    r0 = .075;
    "135";
    spacing = .2;
    "136";
    thick = r0["/"](3);
    "137";
    dr = .0075;
    "138";
    dthick = thick["/"](Nrings);
    "139";
    gray = 1;
    "140";
    RS_interpolate_kwargs.call(this, cylinder, [RS_desugar_kwargs({pos: vector(x0, 0, z0), axis: vector(0, y0["+"](r0), 0), radius: 1.5["*"](r0["+"](thick)), color: color.black})]);
    "143";
    for (var RS_Index4 = 0; RS_Index4["<"](Nrings); RS_Index4++) {
        i = RS_Index4;
        "144";
        ;(await smoke.append(RS_interpolate_kwargs.call(this, ring, [RS_desugar_kwargs({pos: vector(x0, y0["+"](spacing["*"](i)), z0), axis: vector(0, 1, 0), radius: r0["+"](dr["*"](i)), thickness: thick["-"](dthick["*"](i))})])));
    }
    "146";
    y = 0;
    "147";
    dy = spacing["/"](20);
    "148";
    top = Nrings["-"](1);
    "151";
    rlog = 1;
    "152";
    wide = 4;
    "153";
    zpos = 2;
    "154";
    zface = 5;
    "155";
    tlogend = .2;
    "156";
    v0 = .3;
    "157";
    v = v0;
    "158";
    omega = v0["-u"]()["/"](rlog);
    "159";
    theta = 0;
    "160";
    dt = .1;
    "161";
    tstop = .3;
    "162";
    logcyl = RS_interpolate_kwargs.call(this, cylinder, [RS_desugar_kwargs({pos: vector(wide["-u"](), rlog, zpos), size: vector(zface["-"](zpos), 2, 2), axis: vector(0, 0, 1), texture: textures.granite})]);
    "164";
    leftstop = RS_interpolate_kwargs.call(this, box, [RS_desugar_kwargs({pos: vector(wide["-u"]()["-"](rlog)["-"](tstop["/"](2)), .6["*"](rlog), zpos["+"](zface)["/"](2)), size: vector(tstop, 1.2["*"](rlog), zface["-"](zpos)), color: color.red, emissive: true})]);
    "166";
    rightstop = RS_interpolate_kwargs.call(this, box, [RS_desugar_kwargs({pos: vector(wide["+"](rlog)["+"](tstop["/"](2)), .6["*"](rlog), zpos["+"](zface)["/"](2)), size: vector(tstop, 1.2["*"](rlog), zface["-"](zpos)), color: color.red, emissive: true})]);
    "170";
    y1 = .2["*"](h);
    "171";
    y2 = .7["*"](h);
    "172";
    rball = .4;
    "173";
    Dband = 1.3["*"](pole.size.y);
    "174";
    RS_interpolate_kwargs.call(this, cylinder, [RS_desugar_kwargs({pos: vector(0, y1["-"](.9["*"](rball)), 0), axis: vector(0, 1, 0), size: vector(.1, Dband, Dband), color: color.green})]);
    "175";
    RS_interpolate_kwargs.call(this, cylinder, [RS_desugar_kwargs({pos: vector(0, y2["+"](.9["*"](rball)), 0), axis: vector(0, 1, 0), size: vector(.1, Dband, Dband), color: color.green})]);
    "176";
    vball0 = .3["*"](v0);
    "177";
    vball = vball0;
    "178";
    ballangle = .05["*"](pi);
    "179";
    ball = RS_list_decorate([]);
    "180";
    ;(await ball.append(RS_interpolate_kwargs.call(this, sphere, [RS_desugar_kwargs({pos: vector(0, 0, 0), size: 2["*"](rball)["*"](vector(1, 1, 1)), color: color.blue})])));
    "181";
    for (var RS_Index5 = 0; RS_Index5["<"](4); RS_Index5++) {
        nn = RS_Index5;
        "182";
        cc = RS_interpolate_kwargs.call(this, cone, [RS_desugar_kwargs({pos: vector(0, 0, 0)["+"](vector(.8["*"](rball), 0, 0)), axis: vector(3["*"](rball), 0, 0), size: rball["*"](vector(3, 1, 1)), color: color.yellow})]);
        "183";
        RS_interpolate_kwargs.call(cc, cc.rotate, [RS_desugar_kwargs({angle: .5["*"](nn)["*"](pi), axis: vector(0, 1, 0), origin: vector(0, 0, 0)})]);
        "184";
        ;(await ball.append(cc));
    }
    "185";
    ball = compound(ball);
    "186";
    ball.pos = vector(0, y1, 0);
    "189";
    table = RS_interpolate_kwargs.call(this, cone, [RS_desugar_kwargs({pos: vector(.4["*"](R), h["/"](4), .3["-u"]()["*"](R)), size: vector(h["/"](4), .6["*"](R), .6["*"](R)), axis: vector(0, 1["-u"](), 0), texture: (function(){
        var RS_d = {};
        RS_d["file"] = textures.wood_old;
        RS_d["turn"] = 1;
        return RS_d;
    }).call(this)})]);
    "191";
    tabletop = table.pos;
    "192";
    rspring = .02["*"](h);
    "193";
    Lspring = .15["*"](R);
    "194";
    Lspring0 = .1["*"](R);
    "195";
    hmass = 4["*"](rspring);
    "196";
    post = RS_interpolate_kwargs.call(this, cylinder, [RS_desugar_kwargs({pos: tabletop, axis: vector(0, 1, 0), size: vector(2["*"](hmass), .4, .4), color: (await color.gray(.6))})]);
    "197";
    spring = RS_interpolate_kwargs.call(this, helix, [RS_desugar_kwargs({pos: post.pos["+"](vector(0, hmass["/"](2), 0)), size: vector(Lspring, 2["*"](rspring), 2["*"](rspring)), color: color.orange, thickness: rspring})]);
    "199";
    mass = RS_interpolate_kwargs.call(this, cylinder, [RS_desugar_kwargs({pos: post.pos["+"](vector(Lspring, 0, 0)), axis: vector(0, 1, 0), size: vector(hmass, .04["*"](R), .04["*"](R)), color: color.orange})]);
    "201";
    mass.p = vector(10, 0, 5);
    "202";
    mass.m = 1;
    "203";
    kspring = 200;
    "204";
    deltat = .01;
    "207";
    Rcloud = .8["*"](R);
    "208";
    omegacloud = 3["*"](v0)["/"](Rcloud);
    "209";
    cloud = RS_interpolate_kwargs.call(this, sphere, [RS_desugar_kwargs({pos: vector(0, .7["*"](h), Rcloud["-u"]()), size: vector(5, 2, 2), color: color.green, opacity: .3})]);
    "212";
    rhairs = .025;
    "213";
    dhairs = 2;
    "214";
    maxcosine = dhairs["/"](sqrt((await GS_power(rhairs, 2))["+"]((await GS_power(dhairs, 2)))));
    "215";
    haircolor = color.black;
    "216";
    roam = 0;
    "218";
    scene.visible = false;
    "219";
    ;(await scene.waitfor("textures"));
    "220";
    scene.visible = true;
    "222";
    roam = false;
    "224";
    async function setroam(evt) {
        "225";
        "226";
        roam = !roam;
    };
    if (!setroam.__argnames__) Object.defineProperties(setroam, {
        __argnames__ : {value: ["evt"]},
        __module__ : {value: null}
    });

    "228";
    scene.bind("mousedown mouseup", setroam);
    "230";
    hue = 0;
    "231";
    dhue = .01;
    "232";
    gangle = .03;
    "234";
    while (true) {
        "235";
        ;(await rate(30));
        "238";
        if (roam) {
            "239";
            ray = scene.mouse.ray;
            "240";
            if (abs((await ray.dot(scene.forward)))["<"](maxcosine)) {
                "241";
                newray = norm(vector(ray.x, 0, ray.z));
                "242";
                angle = asin((await (await scene.forward.cross(newray)).dot(scene.up)));
                "243";
                RS_interpolate_kwargs.call(scene.camera, scene.camera.rotate, [RS_desugar_kwargs({angle: angle["/"](30), axis: scene.up})]);
                "244";
                scene.camera.pos = scene.camera.pos["+"](ray.y["/"](2)["*"](norm(scene.camera.axis)));
            }
        }
        "246";
        hue=hue["+"](dhue);
        "247";
        entry.color = color.hsv_to_rgb(vector(hue, 1, 1));
        "249";
        RS_interpolate_kwargs.call(B, B.rotate, [RS_desugar_kwargs({angle: .05, axis: scene.up})]);
        "251";
        RS_interpolate_kwargs.call(gear1, gear1.rotate, [RS_desugar_kwargs({angle: gangle, axis: vector(0, 0, 1)})]);
        "252";
        RS_interpolate_kwargs.call(gear2, gear2.rotate, [RS_desugar_kwargs({angle: gangle["-u"](), axis: vector(0, 0, 1)})]);
        "255";
        theta = theta["+"](omega["*"](dt));
        "256";
        logcyl.pos.x = logcyl.pos.x["+"](v["*"](dt));
        "257";
        RS_interpolate_kwargs.call(logcyl, logcyl.rotate, [RS_desugar_kwargs({angle: omega["*"](dt), axis: vector(0, 0, 1)})]);
        "258";
        if (logcyl.pos.x[">="](wide)) {
            "259";
            v = v0["-u"]();
            "260";
            omega = v["-u"]()["/"](rlog);
            "261";
            if ((await rightstop.color.equals(color.red))) {
                "262";
                rightstop.color = color.cyan;
                "263";
            } else {
                "264";
                rightstop.color = color.red;
                "265";
            }
        }
        if (logcyl.pos.x["<="](wide["-u"]())) {
            "266";
            v = v0;
            "267";
            omega = v["-u"]()["/"](rlog);
            "268";
            if ((await leftstop.color.equals(color.red))) {
                "269";
                leftstop.color = color.cyan;
                "270";
            } else {
                "271";
                leftstop.color = color.red;
            }
        }
        "274";
        RS_interpolate_kwargs.call(cloud, cloud.rotate, [RS_desugar_kwargs({angle: omegacloud["*"](dt), origin: vector(0, 0, 0), axis: vector(0, 1, 0)})]);
        "277";
        ball.pos.y = ball.pos.y["+"](vball["*"](dt));
        "278";
        RS_interpolate_kwargs.call(ball, ball.rotate, [RS_desugar_kwargs({angle: ballangle, axis: vector(0, 1, 0), origin: vector(0, 0, 0)})]);
        "279";
        if (ball.pos.y[">="](y2)) {
            "280";
            vball = vball0["-u"]();
            "281";
            ballangle = ballangle["-u"]();
            "282";
        }
        if (ball.pos.y["<="](y1)) {
            "283";
            vball = vball0;
            "284";
            ballangle = ballangle["-u"]();
        }
        "287";
        for (var RS_Index6 = 0; RS_Index6["<"](Nrings); RS_Index6++) {
            i = RS_Index6;
            "289";
            smoke[(typeof i === "number" && i["<"](0)) ? smoke.length["+"](i) : i].pos = smoke[(typeof i === "number" && i["<"](0)) ? smoke.length["+"](i) : i].pos["+"](vector(0, dy, 0));
            "290";
            smoke[(typeof i === "number" && i["<"](0)) ? smoke.length["+"](i) : i].radius = smoke[(typeof i === "number" && i["<"](0)) ? smoke.length["+"](i) : i].radius["+"](dr["/"](spacing)["*"](dy));
            "291";
            smoke[(typeof i === "number" && i["<"](0)) ? smoke.length["+"](i) : i].thickness = smoke[(typeof i === "number" && i["<"](0)) ? smoke.length["+"](i) : i].thickness["-"](dthick["/"](spacing)["*"](dy));
        }
        "292";
        y = y["+"](dy);
        "293";
        if (y[">="](spacing)) {
            "295";
            y = 0;
            "296";
            smoke[(typeof top === "number" && top["<"](0)) ? smoke.length["+"](top) : top].pos = vector(x0, y0, z0);
            "297";
            smoke[(typeof top === "number" && top["<"](0)) ? smoke.length["+"](top) : top].radius = r0;
            "298";
            smoke[(typeof top === "number" && top["<"](0)) ? smoke.length["+"](top) : top].thickness = thick;
            "299";
            top = top["-"](1);
            "300";
        }
        if (top["<"](0)) {
            "301";
            top = Nrings["-"](1);
        }
        "304";
        F = kspring["-u"]()["*"](spring.size.x["-"](Lspring0))["*"](spring.axis.norm());
        "305";
        mass.p = mass.p["+"](F["*"](deltat));
        "306";
        mass.pos = mass.pos["+"](mass.p["/"](mass.m)["*"](deltat));
        "307";
        spring.axis = mass.pos["+"](vector(0, hmass["/"](2), 0))["-"](spring.pos);
        "310";
        ;(await clock.update());
    }
};
if (!__main__.__module__) Object.defineProperties(__main__, {
    __module__ : {value: null}
});

;$(function(){ window.__context = { glowscript_container: $("#glowscript").removeAttr("id") }; __main__() })})()
// END JAVASCRIPT

//--><!]]></script>
</div>